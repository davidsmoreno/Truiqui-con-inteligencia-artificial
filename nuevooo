import random
jugadorp=''
jugadorm=''
vacio=''


def elegir_X_o_O(jugadorp,jugadorm):
	jugadorp=raw_input("quiere ser x o O")
	while jugadorp not in ('X','O'):
		print ("elija otra vez")
		jugadorp=raw_input("quiere ser X o O")
	if jugadorp=='X'
		print "es su turno"
		jugadorm='O'
	else:
		print "es el turno de la mquina"
		jugadorm='X'
	return jugadorm,jugadorp

def quienvaprimero():
	turno=None
	while turno not in ('Si','No'):
		turno=raw_input("quiere comenzar en primer lugar")
		if turno=='Si':
			return 1
		elif turno=='No'
			return 0
		else:
			print "es invalido"

def estaocupado(pos):
	for i in range(len(pos)):
		if pos[i]==0 :
			return False
	return True

def gana(jugadorp,jugadorm,m):
	mdeganar=((0,1,2),(3,4,5),(6,7,8),(0,3,6),(1,4,7),(2,5,8),(0,4,8),(2,4,6))
	for i in mdeganar:
		if m[i[0]]==m[i[1]]=m[i[2]] !=vacio:
			ganador=new[i[0]]
			if ganador==jugadorp:
				return 1
			elif ganador==jugadorm:
				return 0
			if vacio not in m:
				return 'Empate'
	if vacio not in m:
		return 'Empate'
	return None
	def jugadorp_mueve(jugadorp,m):
	a=raw_input("donde quiere moverlo")
	while True:
		a=raw_input("elija del 1 al 8")
		if m[int(a)]!=vacio:
			a=raw_input("elija del 1 al 8")
		else:
			return int(a)

def jugadorm_mueve(jugadorp,jugadorm,m):
	mejoresj=[4,0,2,6,8]
	lista=[]
	for i in range(9):
		if m[i]==vacio:
			lista.append(i)
	for i in lista:
		m[i]=jugadorm
		if gana(jugadorp,jugadorm,m)==0:
			return i
		m[i]=vacio
	for i in lista:
		m[i]=jugadorp
		if gana(jugadorp,jugadorm,m)==1:
			return i
		m[i]=vacio

	return int(lista[random.randrange(len(lista))])

def ejecutable(jugadorp,jugadorm,m):

	a=elegir_X_o_O(jugadorp,jugadorm)
	jugadorp=a[0]
	jugadorm=a[1]
	b=quienvaprimero()
	if b==1:
		print "vas de primero"
		dibujartablero(m)
		jugadorp1(jugadorp,jugarorm,m)
	elif b==0:
		print "la maquina va primero"
		dibujartablero(m)
		jugadorm1(jugadorp,jugarorm,m)
	else:
		pass
		
ejecutable(jugadorp,jugadorm,m)
		
		

